<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="DiagnosisReport" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="136e95c2-1d9b-418e-b799-5fb042ec5d9e">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="96"/>
	<template><![CDATA["./AdcmsReportStyle.jrtx"]]></template>
	<style name="infoTH" style="defaultTHL" backcolor="#F2FAFD">
		<box>
			<topPen lineColor="#66CCFF"/>
			<leftPen lineColor="#66CCFF"/>
			<bottomPen lineColor="#66CCFF"/>
			<rightPen lineColor="#66CCFF"/>
		</box>
	</style>
	<style name="infoTD" style="defaultTDL">
		<box>
			<topPen lineWidth="0.0"/>
			<leftPen lineWidth="0.0"/>
			<bottomPen lineWidth="0.0"/>
			<rightPen lineWidth="0.0"/>
		</box>
	</style>
	<style name="infoTable">
		<box>
			<pen lineWidth="1.0" lineColor="#66CCFF"/>
			<topPen lineWidth="1.0" lineColor="#66CCFF"/>
			<leftPen lineWidth="1.0" lineColor="#66CCFF"/>
			<bottomPen lineWidth="1.0" lineColor="#66CCFF"/>
			<rightPen lineWidth="1.0" lineColor="#66CCFF"/>
		</box>
	</style>
	<subDataset name="Dataset_adc" uuid="3d9b619f-a312-43e3-b77c-ee808ea75b97">
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="name" class="java.lang.String">
			<fieldDescription><![CDATA[name]]></fieldDescription>
		</field>
		<field name="ipaddress" class="java.lang.String">
			<fieldDescription><![CDATA[ipaddress]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="IMG_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORT_INDEX" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["1353327527167"]]></defaultValueExpression>
	</parameter>
	<parameter name="IMG_DIR_CUSTOM" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="accountId" class="java.lang.String">
		<fieldDescription><![CDATA[accountId]]></fieldDescription>
	</field>
	<field name="adcs" class="java.util.ArrayList">
		<fieldDescription><![CDATA[adcs]]></fieldDescription>
	</field>
	<field name="class" class="java.lang.Class">
		<fieldDescription><![CDATA[class]]></fieldDescription>
	</field>
	<field name="creationTime" class="java.util.Date">
		<fieldDescription><![CDATA[creationTime]]></fieldDescription>
	</field>
	<field name="existADC" class="java.lang.Integer">
		<fieldDescription><![CDATA[existADC]]></fieldDescription>
	</field>
	<field name="existRespTime" class="java.lang.Integer">
		<fieldDescription><![CDATA[existRespTime]]></fieldDescription>
	</field>
	<field name="existSrv" class="java.lang.Integer">
		<fieldDescription><![CDATA[existSrv]]></fieldDescription>
	</field>
	<field name="fromPeriod" class="java.util.Date">
		<fieldDescription><![CDATA[fromPeriod]]></fieldDescription>
	</field>
	<field name="toPeriod" class="java.util.Date">
		<fieldDescription><![CDATA[toPeriod]]></fieldDescription>
	</field>
	<field name="textHdr" class="kr.openbase.adcsmart.web.report.impl.OBDtoReportTextHdr">
		<fieldDescription><![CDATA[textHdr]]></fieldDescription>
	</field>
	<background>
		<band height="802" splitType="Stretch">
			<image scaleImage="FillFrame">
				<reportElement x="0" y="0" width="555" height="774" uuid="fcbf005b-5350-4a26-a6b7-217742a09155"/>
				<imageExpression><![CDATA[$P{IMG_DIR} + "bg_diagnosis_body.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="0" y="774" width="555" height="28" uuid="11cb3ad1-fb47-4079-b5ad-3317c93f74bd"/>
				<imageExpression><![CDATA[$P{IMG_DIR} + "bg_diagnosis_foot.png"]]></imageExpression>
			</image>
		</band>
	</background>
	<title>
		<band height="161" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="555" height="97" uuid="d9e6b49b-963e-4d3c-9ebb-d9390dc26244"/>
				<imageExpression><![CDATA[$P{IMG_DIR} + "bg_diagnosis_header.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="49" y="46" width="201" height="42" uuid="40cd0eb5-4779-4105-b087-ab384c59d778"/>
				<imageExpression><![CDATA[$P{IMG_DIR} + "img_diagnosisReport_tlt.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="249" y="6" width="109" height="22" uuid="1155ff80-ac11-4f16-997a-a06f850e11e3"/>
				<imageExpression><![CDATA[$P{IMG_DIR_CUSTOM} +"img_siteLogo.png"]]></imageExpression>
			</image>
			<frame>
				<reportElement style="infoTable" x="40" y="102" width="251" height="41" uuid="077e8238-e04b-471b-9cb8-fbeda3777e4d"/>
				<textField pattern="yyyy-MM-dd HH:mm">
					<reportElement style="infoTD" x="70" y="0" width="181" height="20" uuid="847d3a1f-fd71-4353-bbd4-18bc8c26dd58"/>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#999999"/>
					</box>
					<textFieldExpression><![CDATA[$F{creationTime}]]></textFieldExpression>
				</textField>
				<textField pattern="yyyy-MM-dd HH:mm:ss">
					<reportElement style="infoTD" x="165" y="20" width="86" height="20" uuid="4ab4e4f7-df71-4a6c-a6b9-cfcb42b97cf8"/>
					<textFieldExpression><![CDATA[$F{toPeriod}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement style="infoTD" x="155" y="20" width="10" height="20" uuid="a171cd8e-0b15-41ef-b530-e17e342d35c8"/>
					<textElement textAlignment="Center"/>
					<text><![CDATA[~]]></text>
				</staticText>
				<textField>
					<reportElement style="infoTH" mode="Opaque" x="0" y="20" width="70" height="20" uuid="31933d59-7968-4df1-9e72-ca6cb7d33b42"/>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getTextList().get(1)]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="infoTH" mode="Opaque" x="0" y="0" width="70" height="20" uuid="09be077a-c526-43e6-9551-682f7f8a52e2"/>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#999999"/>
					</box>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getTextList().get(0)]]></textFieldExpression>
				</textField>
				<textField pattern="yyyy-MM-dd HH:mm:ss">
					<reportElement style="infoTD" x="70" y="20" width="85" height="21" uuid="59df1ba3-c438-459f-b182-2b9cd24aaab6"/>
					<textFieldExpression><![CDATA[$F{fromPeriod}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement style="infoTable" x="305" y="102" width="250" height="41" uuid="9ca261ac-64ce-4899-8be6-55de7bf40e2b"/>
				<textField>
					<reportElement style="infoTH" mode="Opaque" x="0" y="0" width="70" height="40" uuid="80a254e3-6f7f-45b1-a661-16467be1f107"/>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getTextList().get(2)]]></textFieldExpression>
				</textField>
			</frame>
			<componentElement>
				<reportElement x="375" y="102" width="180" height="40" uuid="a4dd8f50-54a3-458e-b11d-ed7bda3ae325"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="Dataset_adc" uuid="55b1e535-ac69-4022-a811-6ed571c02b24">
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{adcs})]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="40" width="180">
						<textField>
							<reportElement style="infoTD" x="0" y="0" width="180" height="40" uuid="5f4e16b5-4432-4184-a15a-4734d9b09a33"/>
							<textFieldExpression><![CDATA[$F{name}+"("+$F{ipaddress}+")"]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
	</title>
	<detail>
		<band height="12" splitType="Stretch">
			<printWhenExpression><![CDATA[new Boolean($F{existADC}!=null && $F{existADC}.intValue() != 0)]]></printWhenExpression>
			<subreport>
				<reportElement x="0" y="0" width="555" height="12" uuid="5216f698-4767-441e-a809-c7b6dc764ef2">
					<printWhenExpression><![CDATA[new Boolean($F{existADC}!=null && $F{existADC}.intValue() != 0)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="REPORT_INDEX">
					<subreportParameterExpression><![CDATA[$P{REPORT_INDEX}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="IMG_DIR">
					<subreportParameterExpression><![CDATA[$P{IMG_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(kr.openbase.adcsmart.web.report.faultdiagnosis.FaultDiagnosisFactory.getDiagnosisHW($P{REPORT_INDEX}))]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "DiagnosisReportHW.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="12" splitType="Stretch">
			<printWhenExpression><![CDATA[new Boolean($F{existSrv}.intValue()!=0)]]></printWhenExpression>
			<break>
				<reportElement x="0" y="1" width="552" height="1" uuid="b0a09e19-df37-475a-9538-8fa214e43589">
					<printWhenExpression><![CDATA[new Boolean($F{existADC}!=null && $F{existADC}.intValue() != 0)]]></printWhenExpression>
				</reportElement>
			</break>
			<subreport>
				<reportElement x="0" y="1" width="555" height="11" uuid="89b8b382-34b5-4cda-ae77-b533c084f5e4">
					<printWhenExpression><![CDATA[new Boolean($F{existSrv}.intValue()!=0)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="REPORT_INDEX">
					<subreportParameterExpression><![CDATA[$P{REPORT_INDEX}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="IMG_DIR">
					<subreportParameterExpression><![CDATA[$P{IMG_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(kr.openbase.adcsmart.web.report.faultdiagnosis.FaultDiagnosisFactory.getDiagnosisService($P{REPORT_INDEX}))]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "DiagnosisReportSrv.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="12">
			<subreport>
				<reportElement x="0" y="1" width="555" height="10" uuid="21218dbc-60dc-42d9-b3d8-98cad627e32d"/>
				<subreportParameter name="REPORT_INDEX">
					<subreportParameterExpression><![CDATA[$P{REPORT_INDEX}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="IMG_DIR">
					<subreportParameterExpression><![CDATA[$P{IMG_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(kr.openbase.adcsmart.web.report.faultdiagnosis.FaultDiagnosisFactory.getDiagnosisCpuMemoryTrend($P{REPORT_INDEX}))]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "DiagnosisReportCpuMem.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="12"/>
	</detail>
</jasperReport>
