<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="SystemFault_FaultMonitor" language="groovy" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="80ccea07-aa0d-45af-a2c3-b67a4ea8ae2b">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<template><![CDATA["./AdcmsReportStyle.jrtx"]]></template>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<leftPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<bottomPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<rightPen lineWidth="0.5" lineColor="#D4D4D4"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#693F3A">
		<box>
			<topPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<leftPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<bottomPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<rightPen lineWidth="0.5" lineColor="#D4D4D4"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque">
		<box>
			<topPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<leftPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<bottomPen lineWidth="0.5" lineColor="#D4D4D4"/>
			<rightPen lineWidth="0.5" lineColor="#D4D4D4"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#F2F2F2"/>
		</conditionalStyle>
	</style>
	<subDataset name="Dataset_SystemLog" uuid="0b7418c4-10c9-4b4f-a6dc-ca178e7704fa">
		<parameter name="IMG_DIR" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{IMG_DIR}]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="adcIndex" class="java.lang.Integer">
			<fieldDescription><![CDATA[adcIndex]]></fieldDescription>
		</field>
		<field name="adcName" class="java.lang.String">
			<fieldDescription><![CDATA[adcName]]></fieldDescription>
		</field>
		<field name="class" class="java.lang.Class">
			<fieldDescription><![CDATA[class]]></fieldDescription>
		</field>
		<field name="event" class="java.lang.String">
			<fieldDescription><![CDATA[event]]></fieldDescription>
		</field>
		<field name="logLevel" class="java.lang.Integer">
			<fieldDescription><![CDATA[logLevel]]></fieldDescription>
		</field>
		<field name="logType" class="java.lang.Integer">
			<fieldDescription><![CDATA[logType]]></fieldDescription>
		</field>
		<field name="occurredTime" class="java.lang.String">
			<fieldDescription><![CDATA[occurredTime]]></fieldDescription>
		</field>
		<field name="status" class="java.lang.Integer">
			<fieldDescription><![CDATA[status]]></fieldDescription>
		</field>
		<field name="vsIndex" class="java.lang.String">
			<fieldDescription><![CDATA[vsIndex]]></fieldDescription>
		</field>
		<field name="textHdr" class="kr.openbase.adcsmart.web.report.fault.AdcSystemLogDtoTextHdr">
			<fieldDescription><![CDATA[textHdr]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="REPORT_INDEX" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{REPORT_INDEX}]]></defaultValueExpression>
	</parameter>
	<parameter name="IMG_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="adcIp" class="java.lang.String">
		<fieldDescription><![CDATA[adcIp]]></fieldDescription>
	</field>
	<field name="adcName" class="java.lang.String">
		<fieldDescription><![CDATA[adcName]]></fieldDescription>
	</field>
	<field name="class" class="java.lang.Class">
		<fieldDescription><![CDATA[class]]></fieldDescription>
	</field>
	<field name="occurCount" class="java.lang.Integer">
		<fieldDescription><![CDATA[occurCount]]></fieldDescription>
	</field>
	<field name="systemLogs" class="java.util.List">
		<fieldDescription><![CDATA[systemLogs]]></fieldDescription>
	</field>
	<field name="textHdr" class="kr.openbase.adcsmart.web.report.fault.FaultMonitorReportDtoTextHdr">
		<fieldDescription><![CDATA[textHdr]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="27">
			<frame>
				<reportElement mode="Opaque" x="42" y="0" width="246" height="26" backcolor="#FFFFFF" uuid="c8b2661b-5f15-4838-a805-1390d67c083c"/>
				<box>
					<pen lineWidth="1.0" lineColor="#D4D4D4"/>
					<topPen lineWidth="0.0" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.0" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="0.0" lineColor="#FFFFFF"/>
					<rightPen lineWidth="0.0" lineColor="#FFFFFF"/>
				</box>
				<rectangle radius="10">
					<reportElement x="2" y="0" width="244" height="24" forecolor="#D9D9D9" backcolor="#D9D9D9" uuid="c2c03ec3-8e79-4ba6-8fea-fc4dbe9c55d8"/>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</rectangle>
				<image>
					<reportElement x="12" y="2" width="22" height="23" uuid="8026480f-4e40-448e-93f0-8c9880dde6d4"/>
					<imageExpression><![CDATA[$P{IMG_DIR} + "icon_disableMonitor.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement style="boldL" x="36" y="3" width="100" height="20" uuid="f571c0d6-211b-4ebe-9331-98e38b748ee9"/>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getTitle()]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</title>
	<detail>
		<band height="112" splitType="Stretch">
			<frame>
				<reportElement mode="Transparent" x="42" y="8" width="511" height="20" uuid="c8b2661b-5f15-4838-a805-1390d67c083c"/>
				<textField>
					<reportElement style="defaultTDS" mode="Opaque" x="326" y="0" width="184" height="20" uuid="43af417d-ac15-4667-ba4e-75bed99bf37e"/>
					<textFieldExpression><![CDATA[$F{systemLogs}.size()]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="defaultTDS" mode="Opaque" x="70" y="0" width="186" height="20" uuid="669f60c5-b1af-4c31-a8a9-f3da69b9ec52"/>
					<textFieldExpression><![CDATA[$F{adcName} + "(IP:" + $F{adcIp} + ")"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="defaultTHS" mode="Opaque" x="0" y="0" width="70" height="20" uuid="db314a20-c3d4-4bc3-b94c-54a1544311e8"/>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getAdcName()]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="defaultTHS" mode="Opaque" x="256" y="0" width="70" height="20" uuid="bee9a893-92ac-422b-bea0-c2c0bc97167c"/>
					<textFieldExpression><![CDATA[""+$F{textHdr}.getOccurTime()]]></textFieldExpression>
				</textField>
			</frame>
			<componentElement>
				<reportElement key="table" style="table" x="43" y="46" width="510" height="54" uuid="1c19d8ab-cc05-401e-9948-845c009f386d"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Dataset_SystemLog" uuid="87417b25-c936-4593-908c-5f401648f0f0">
						<datasetParameter name="IMG_DIR">
							<datasetParameterExpression><![CDATA[$P{IMG_DIR}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{systemLogs})]]></dataSourceExpression>
					</datasetRun>
					<jr:column width="90" uuid="c978cf4a-1445-45bc-bb4e-e5d541702d48">
						<jr:columnHeader style="table_CH" height="21" rowSpan="1">
							<textField>
								<reportElement style="inverse_boldS" x="0" y="0" width="90" height="20" uuid="f350b1ae-8c26-4568-8983-faad5b43afb1"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[""+$F{textHdr}.getColumn1()]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField pattern="">
								<reportElement style="plainS" x="0" y="0" width="90" height="20" uuid="a99daad7-339d-4b3d-86e2-4bf4f99a9dae"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{occurredTime}.substring(0, 16)]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="40" uuid="ea132947-23cc-4154-a06c-d1972feaa7fc">
						<jr:columnHeader style="table_CH" height="21" rowSpan="1">
							<textField>
								<reportElement style="inverse_boldS" x="0" y="0" width="40" height="20" uuid="69c1af54-3b33-4080-a5b4-30e99c441873"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[""+$F{textHdr}.getColumn2()]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField>
								<reportElement style="plainS" x="0" y="0" width="40" height="20" uuid="d1ab4ead-9245-4224-8d03-834e33845467"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[( $F{logLevel} == 0 ? "높음" : ( $F{logLevel} == 1 ? "보통" : "낮음" ) )]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="70" uuid="d1c02721-613f-4c44-ba12-a9a0ee36e554">
						<jr:columnHeader style="table_CH" height="21" rowSpan="1">
							<textField>
								<reportElement style="inverse_boldS" x="0" y="0" width="70" height="20" uuid="52544a36-823e-43ef-881c-711d8b563823"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[""+$F{textHdr}.getColumn3()]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField>
								<reportElement style="plainS" x="0" y="0" width="70" height="20" uuid="1eab6c05-09c8-4f98-b78d-417dba5e48bf"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{adcName}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="265" uuid="cd08f217-be0c-4698-9e0b-7e7546c72c35">
						<jr:columnHeader style="table_CH" height="21" rowSpan="1">
							<textField>
								<reportElement style="inverse_boldS" x="0" y="0" width="265" height="20" uuid="0b36fa05-50ac-4de1-9cb9-0e31c3e135da"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[""+$F{textHdr}.getColumn4()]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement style="plainS" x="0" y="0" width="265" height="20" uuid="ccb05eae-4cd2-4838-9b3f-95630fc1cf99"/>
								<textFieldExpression><![CDATA[$F{event}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="44" uuid="f0bb3bed-28d7-41d5-b90b-7d4990af74dc">
						<jr:columnHeader style="table_CH" height="21" rowSpan="1">
							<textField>
								<reportElement style="inverse_boldS" x="0" y="0" width="44" height="20" uuid="84f72f47-aecc-499b-8138-ffc5517704cf"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[""+$F{textHdr}.getColumn5()]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<image hAlign="Center">
								<reportElement x="16" y="5" width="17" height="12" uuid="0451158a-5560-4f5b-b239-4a043ecfa660"/>
								<imageExpression><![CDATA[$P{IMG_DIR} + "bu_conn_" + ($F{status} == 1 ? "on" : "off") + ".png"]]></imageExpression>
							</image>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
</jasperReport>
